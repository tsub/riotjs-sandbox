{"version":3,"sources":["webpack:///webpack/bootstrap e4483bd2a08b944cc83f","webpack:///./src/index.js","webpack:///./~/riot/riot.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./src/store.js","webpack:///./~/redux/lib/index.js","webpack:///./~/process/browser.js","webpack:///./~/redux/lib/createStore.js","webpack:///./~/lodash/isPlainObject.js","webpack:///./~/lodash/_getPrototype.js","webpack:///./~/lodash/_isHostObject.js","webpack:///./~/lodash/isObjectLike.js","webpack:///./~/symbol-observable/index.js","webpack:///./~/symbol-observable/ponyfill.js","webpack:///./~/redux/lib/combineReducers.js","webpack:///./~/redux/lib/utils/warning.js","webpack:///./~/redux/lib/bindActionCreators.js","webpack:///./~/redux/lib/applyMiddleware.js","webpack:///./~/redux/lib/compose.js","webpack:///./~/redux-thunk/lib/index.js","webpack:///./src/reducers/index.js","webpack:///./src/reducers/counter.js","webpack:///./src/reducers/todos.js","webpack:///./src/reducers/todo.js","webpack:///./src/reducers/visibility.js","webpack:///./src/component.js","webpack:///./src/components/todo-app.tag","webpack:///./src/components/todo-item.tag","webpack:///./src/components/todo-list.tag","webpack:///./src/components/todo-form.tag"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e4483bd2a08b944cc83f\n **/","import riot from 'riot';\nimport configureStore from './store';\nimport './component';\n\nconst initialState = window.__INITIAL_STATE__;\nconst store = configureStore(initialState);\n\nfunction render() {\n  riot.mount('*', { store: store });\n}\n\nwindow.onload = function() {\n  render();\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","/* Riot v2.4.1, @license MIT */\n\n;(function(window, undefined) {\n  'use strict';\nvar riot = { version: 'v2.4.1', settings: {} },\n  // be aware, internal usage\n  // ATTENTION: prefix the global dynamic variables with `__`\n\n  // counter to give a unique id to all the Tag instances\n  __uid = 0,\n  // tags instances cache\n  __virtualDom = [],\n  // tags implementation cache\n  __tagImpl = {},\n\n  /**\n   * Const\n   */\n  GLOBAL_MIXIN = '__global_mixin',\n\n  // riot specific prefixes\n  RIOT_PREFIX = 'riot-',\n  RIOT_TAG = RIOT_PREFIX + 'tag',\n  RIOT_TAG_IS = 'data-is',\n\n  // for typeof == '' comparisons\n  T_STRING = 'string',\n  T_OBJECT = 'object',\n  T_UNDEF  = 'undefined',\n  T_FUNCTION = 'function',\n  // special native tags that cannot be treated like the others\n  SPECIAL_TAGS_REGEX = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,\n  RESERVED_WORDS_BLACKLIST = /^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,\n  // SVG tags list https://www.w3.org/TR/SVG/attindex.html#PresentationAttributes\n  SVG_TAGS_LIST = ['altGlyph', 'animate', 'animateColor', 'circle', 'clipPath', 'defs', 'ellipse', 'feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feFlood', 'feGaussianBlur', 'feImage', 'feMerge', 'feMorphology', 'feOffset', 'feSpecularLighting', 'feTile', 'feTurbulence', 'filter', 'font', 'foreignObject', 'g', 'glyph', 'glyphRef', 'image', 'line', 'linearGradient', 'marker', 'mask', 'missing-glyph', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'switch', 'symbol', 'text', 'textPath', 'tref', 'tspan', 'use'],\n\n  // version# for IE 8-11, 0 for others\n  IE_VERSION = (window && window.document || {}).documentMode | 0,\n\n  // detect firefox to fix #1374\n  FIREFOX = window && !!window.InstallTrigger\n/* istanbul ignore next */\nriot.observable = function(el) {\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  el = el || {}\n\n  /**\n   * Private variables\n   */\n  var callbacks = {},\n    slice = Array.prototype.slice\n\n  /**\n   * Private Methods\n   */\n\n  /**\n   * Helper function needed to get and loop all the events in a string\n   * @param   { String }   e - event string\n   * @param   {Function}   fn - callback\n   */\n  function onEachEvent(e, fn) {\n    var es = e.split(' '), l = es.length, i = 0, name, indx\n    for (; i < l; i++) {\n      name = es[i]\n      indx = name.indexOf('.')\n      if (name) fn( ~indx ? name.substring(0, indx) : name, i, ~indx ? name.slice(indx + 1) : null)\n    }\n  }\n\n  /**\n   * Public Api\n   */\n\n  // extend the el object adding the observable methods\n  Object.defineProperties(el, {\n    /**\n     * Listen to the given space separated list of `events` and\n     * execute the `callback` each time an event is triggered.\n     * @param  { String } events - events ids\n     * @param  { Function } fn - callback function\n     * @returns { Object } el\n     */\n    on: {\n      value: function(events, fn) {\n        if (typeof fn != 'function')  return el\n\n        onEachEvent(events, function(name, pos, ns) {\n          (callbacks[name] = callbacks[name] || []).push(fn)\n          fn.typed = pos > 0\n          fn.ns = ns\n        })\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Removes the given space separated list of `events` listeners\n     * @param   { String } events - events ids\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    off: {\n      value: function(events, fn) {\n        if (events == '*' && !fn) callbacks = {}\n        else {\n          onEachEvent(events, function(name, pos, ns) {\n            if (fn || ns) {\n              var arr = callbacks[name]\n              for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n                if (cb == fn || ns && cb.ns == ns) arr.splice(i--, 1)\n              }\n            } else delete callbacks[name]\n          })\n        }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Listen to the given space separated list of `events` and\n     * execute the `callback` at most once\n     * @param   { String } events - events ids\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    one: {\n      value: function(events, fn) {\n        function on() {\n          el.off(events, on)\n          fn.apply(el, arguments)\n        }\n        return el.on(events, on)\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Execute all callback functions that listen to\n     * the given space separated list of `events`\n     * @param   { String } events - events ids\n     * @returns { Object } el\n     */\n    trigger: {\n      value: function(events) {\n\n        // getting the arguments\n        var arglen = arguments.length - 1,\n          args = new Array(arglen),\n          fns\n\n        for (var i = 0; i < arglen; i++) {\n          args[i] = arguments[i + 1] // skip first argument\n        }\n\n        onEachEvent(events, function(name, pos, ns) {\n\n          fns = slice.call(callbacks[name] || [], 0)\n\n          for (var i = 0, fn; fn = fns[i]; ++i) {\n            if (fn.busy) continue\n            fn.busy = 1\n            if (!ns || fn.ns == ns) fn.apply(el, fn.typed ? [name].concat(args) : args)\n            if (fns[i] !== fn) { i-- }\n            fn.busy = 0\n          }\n\n          if (callbacks['*'] && name != '*')\n            el.trigger.apply(el, ['*', name].concat(args))\n\n        })\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    }\n  })\n\n  return el\n\n}\n/* istanbul ignore next */\n;(function(riot) {\n\n/**\n * Simple client-side router\n * @module riot-route\n */\n\n\nvar RE_ORIGIN = /^.+?\\/\\/+[^\\/]+/,\n  EVENT_LISTENER = 'EventListener',\n  REMOVE_EVENT_LISTENER = 'remove' + EVENT_LISTENER,\n  ADD_EVENT_LISTENER = 'add' + EVENT_LISTENER,\n  HAS_ATTRIBUTE = 'hasAttribute',\n  REPLACE = 'replace',\n  POPSTATE = 'popstate',\n  HASHCHANGE = 'hashchange',\n  TRIGGER = 'trigger',\n  MAX_EMIT_STACK_LEVEL = 3,\n  win = typeof window != 'undefined' && window,\n  doc = typeof document != 'undefined' && document,\n  hist = win && history,\n  loc = win && (hist.location || win.location), // see html5-history-api\n  prot = Router.prototype, // to minify more\n  clickEvent = doc && doc.ontouchstart ? 'touchstart' : 'click',\n  started = false,\n  central = riot.observable(),\n  routeFound = false,\n  debouncedEmit,\n  base, current, parser, secondParser, emitStack = [], emitStackLevel = 0\n\n/**\n * Default parser. You can replace it via router.parser method.\n * @param {string} path - current path (normalized)\n * @returns {array} array\n */\nfunction DEFAULT_PARSER(path) {\n  return path.split(/[/?#]/)\n}\n\n/**\n * Default parser (second). You can replace it via router.parser method.\n * @param {string} path - current path (normalized)\n * @param {string} filter - filter string (normalized)\n * @returns {array} array\n */\nfunction DEFAULT_SECOND_PARSER(path, filter) {\n  var re = new RegExp('^' + filter[REPLACE](/\\*/g, '([^/?#]+?)')[REPLACE](/\\.\\./, '.*') + '$'),\n    args = path.match(re)\n\n  if (args) return args.slice(1)\n}\n\n/**\n * Simple/cheap debounce implementation\n * @param   {function} fn - callback\n * @param   {number} delay - delay in seconds\n * @returns {function} debounced function\n */\nfunction debounce(fn, delay) {\n  var t\n  return function () {\n    clearTimeout(t)\n    t = setTimeout(fn, delay)\n  }\n}\n\n/**\n * Set the window listeners to trigger the routes\n * @param {boolean} autoExec - see route.start\n */\nfunction start(autoExec) {\n  debouncedEmit = debounce(emit, 1)\n  win[ADD_EVENT_LISTENER](POPSTATE, debouncedEmit)\n  win[ADD_EVENT_LISTENER](HASHCHANGE, debouncedEmit)\n  doc[ADD_EVENT_LISTENER](clickEvent, click)\n  if (autoExec) emit(true)\n}\n\n/**\n * Router class\n */\nfunction Router() {\n  this.$ = []\n  riot.observable(this) // make it observable\n  central.on('stop', this.s.bind(this))\n  central.on('emit', this.e.bind(this))\n}\n\nfunction normalize(path) {\n  return path[REPLACE](/^\\/|\\/$/, '')\n}\n\nfunction isString(str) {\n  return typeof str == 'string'\n}\n\n/**\n * Get the part after domain name\n * @param {string} href - fullpath\n * @returns {string} path from root\n */\nfunction getPathFromRoot(href) {\n  return (href || loc.href)[REPLACE](RE_ORIGIN, '')\n}\n\n/**\n * Get the part after base\n * @param {string} href - fullpath\n * @returns {string} path from base\n */\nfunction getPathFromBase(href) {\n  return base[0] == '#'\n    ? (href || loc.href || '').split(base)[1] || ''\n    : (loc ? getPathFromRoot(href) : href || '')[REPLACE](base, '')\n}\n\nfunction emit(force) {\n  // the stack is needed for redirections\n  var isRoot = emitStackLevel == 0\n  if (MAX_EMIT_STACK_LEVEL <= emitStackLevel) return\n\n  emitStackLevel++\n  emitStack.push(function() {\n    var path = getPathFromBase()\n    if (force || path != current) {\n      central[TRIGGER]('emit', path)\n      current = path\n    }\n  })\n  if (isRoot) {\n    while (emitStack.length) {\n      emitStack[0]()\n      emitStack.shift()\n    }\n    emitStackLevel = 0\n  }\n}\n\nfunction click(e) {\n  if (\n    e.which != 1 // not left click\n    || e.metaKey || e.ctrlKey || e.shiftKey // or meta keys\n    || e.defaultPrevented // or default prevented\n  ) return\n\n  var el = e.target\n  while (el && el.nodeName != 'A') el = el.parentNode\n\n  if (\n    !el || el.nodeName != 'A' // not A tag\n    || el[HAS_ATTRIBUTE]('download') // has download attr\n    || !el[HAS_ATTRIBUTE]('href') // has no href attr\n    || el.target && el.target != '_self' // another window or frame\n    || el.href.indexOf(loc.href.match(RE_ORIGIN)[0]) == -1 // cross origin\n  ) return\n\n  if (el.href != loc.href) {\n    if (\n      el.href.split('#')[0] == loc.href.split('#')[0] // internal jump\n      || base != '#' && getPathFromRoot(el.href).indexOf(base) !== 0 // outside of base\n      || !go(getPathFromBase(el.href), el.title || doc.title) // route not found\n    ) return\n  }\n\n  e.preventDefault()\n}\n\n/**\n * Go to the path\n * @param {string} path - destination path\n * @param {string} title - page title\n * @param {boolean} shouldReplace - use replaceState or pushState\n * @returns {boolean} - route not found flag\n */\nfunction go(path, title, shouldReplace) {\n  if (hist) { // if a browser\n    path = base + normalize(path)\n    title = title || doc.title\n    // browsers ignores the second parameter `title`\n    shouldReplace\n      ? hist.replaceState(null, title, path)\n      : hist.pushState(null, title, path)\n    // so we need to set it manually\n    doc.title = title\n    routeFound = false\n    emit()\n    return routeFound\n  }\n\n  // Server-side usage: directly execute handlers for the path\n  return central[TRIGGER]('emit', getPathFromBase(path))\n}\n\n/**\n * Go to path or set action\n * a single string:                go there\n * two strings:                    go there with setting a title\n * two strings and boolean:        replace history with setting a title\n * a single function:              set an action on the default route\n * a string/RegExp and a function: set an action on the route\n * @param {(string|function)} first - path / action / filter\n * @param {(string|RegExp|function)} second - title / action\n * @param {boolean} third - replace flag\n */\nprot.m = function(first, second, third) {\n  if (isString(first) && (!second || isString(second))) go(first, second, third || false)\n  else if (second) this.r(first, second)\n  else this.r('@', first)\n}\n\n/**\n * Stop routing\n */\nprot.s = function() {\n  this.off('*')\n  this.$ = []\n}\n\n/**\n * Emit\n * @param {string} path - path\n */\nprot.e = function(path) {\n  this.$.concat('@').some(function(filter) {\n    var args = (filter == '@' ? parser : secondParser)(normalize(path), normalize(filter))\n    if (typeof args != 'undefined') {\n      this[TRIGGER].apply(null, [filter].concat(args))\n      return routeFound = true // exit from loop\n    }\n  }, this)\n}\n\n/**\n * Register route\n * @param {string} filter - filter for matching to url\n * @param {function} action - action to register\n */\nprot.r = function(filter, action) {\n  if (filter != '@') {\n    filter = '/' + normalize(filter)\n    this.$.push(filter)\n  }\n  this.on(filter, action)\n}\n\nvar mainRouter = new Router()\nvar route = mainRouter.m.bind(mainRouter)\n\n/**\n * Create a sub router\n * @returns {function} the method of a new Router object\n */\nroute.create = function() {\n  var newSubRouter = new Router()\n  // assign sub-router's main method\n  var router = newSubRouter.m.bind(newSubRouter)\n  // stop only this sub-router\n  router.stop = newSubRouter.s.bind(newSubRouter)\n  return router\n}\n\n/**\n * Set the base of url\n * @param {(str|RegExp)} arg - a new base or '#' or '#!'\n */\nroute.base = function(arg) {\n  base = arg || '#'\n  current = getPathFromBase() // recalculate current path\n}\n\n/** Exec routing right now **/\nroute.exec = function() {\n  emit(true)\n}\n\n/**\n * Replace the default router to yours\n * @param {function} fn - your parser function\n * @param {function} fn2 - your secondParser function\n */\nroute.parser = function(fn, fn2) {\n  if (!fn && !fn2) {\n    // reset parser for testing...\n    parser = DEFAULT_PARSER\n    secondParser = DEFAULT_SECOND_PARSER\n  }\n  if (fn) parser = fn\n  if (fn2) secondParser = fn2\n}\n\n/**\n * Helper function to get url query as an object\n * @returns {object} parsed query\n */\nroute.query = function() {\n  var q = {}\n  var href = loc.href || current\n  href[REPLACE](/[?&](.+?)=([^&]*)/g, function(_, k, v) { q[k] = v })\n  return q\n}\n\n/** Stop routing **/\nroute.stop = function () {\n  if (started) {\n    if (win) {\n      win[REMOVE_EVENT_LISTENER](POPSTATE, debouncedEmit)\n      win[REMOVE_EVENT_LISTENER](HASHCHANGE, debouncedEmit)\n      doc[REMOVE_EVENT_LISTENER](clickEvent, click)\n    }\n    central[TRIGGER]('stop')\n    started = false\n  }\n}\n\n/**\n * Start routing\n * @param {boolean} autoExec - automatically exec after starting if true\n */\nroute.start = function (autoExec) {\n  if (!started) {\n    if (win) {\n      if (document.readyState == 'complete') start(autoExec)\n      // the timeout is needed to solve\n      // a weird safari bug https://github.com/riot/route/issues/33\n      else win[ADD_EVENT_LISTENER]('load', function() {\n        setTimeout(function() { start(autoExec) }, 1)\n      })\n    }\n    started = true\n  }\n}\n\n/** Prepare the router **/\nroute.base()\nroute.parser()\n\nriot.route = route\n})(riot)\n/* istanbul ignore next */\n\n/**\n * The riot template engine\n * @version v2.4.0\n */\n/**\n * riot.util.brackets\n *\n * - `brackets    ` - Returns a string or regex based on its parameter\n * - `brackets.set` - Change the current riot brackets\n *\n * @module\n */\n\nvar brackets = (function (UNDEF) {\n\n  var\n    REGLOB = 'g',\n\n    R_MLCOMMS = /\\/\\*[^*]*\\*+(?:[^*\\/][^*]*\\*+)*\\//g,\n\n    R_STRINGS = /\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'/g,\n\n    S_QBLOCKS = R_STRINGS.source + '|' +\n      /(?:\\breturn\\s+|(?:[$\\w\\)\\]]|\\+\\+|--)\\s*(\\/)(?![*\\/]))/.source + '|' +\n      /\\/(?=[^*\\/])[^[\\/\\\\]*(?:(?:\\[(?:\\\\.|[^\\]\\\\]*)*\\]|\\\\.)[^[\\/\\\\]*)*?(\\/)[gim]*/.source,\n\n    FINDBRACES = {\n      '(': RegExp('([()])|'   + S_QBLOCKS, REGLOB),\n      '[': RegExp('([[\\\\]])|' + S_QBLOCKS, REGLOB),\n      '{': RegExp('([{}])|'   + S_QBLOCKS, REGLOB)\n    },\n\n    DEFAULT = '{ }'\n\n  var _pairs = [\n    '{', '}',\n    '{', '}',\n    /{[^}]*}/,\n    /\\\\([{}])/g,\n    /\\\\({)|{/g,\n    RegExp('\\\\\\\\(})|([[({])|(})|' + S_QBLOCKS, REGLOB),\n    DEFAULT,\n    /^\\s*{\\^?\\s*([$\\w]+)(?:\\s*,\\s*(\\S+))?\\s+in\\s+(\\S.*)\\s*}/,\n    /(^|[^\\\\]){=[\\S\\s]*?}/\n  ]\n\n  var\n    cachedBrackets = UNDEF,\n    _regex,\n    _cache = [],\n    _settings\n\n  function _loopback (re) { return re }\n\n  function _rewrite (re, bp) {\n    if (!bp) bp = _cache\n    return new RegExp(\n      re.source.replace(/{/g, bp[2]).replace(/}/g, bp[3]), re.global ? REGLOB : ''\n    )\n  }\n\n  function _create (pair) {\n    if (pair === DEFAULT) return _pairs\n\n    var arr = pair.split(' ')\n\n    if (arr.length !== 2 || /[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]/.test(pair)) { // eslint-disable-line\n      throw new Error('Unsupported brackets \"' + pair + '\"')\n    }\n    arr = arr.concat(pair.replace(/(?=[[\\]()*+?.^$|])/g, '\\\\').split(' '))\n\n    arr[4] = _rewrite(arr[1].length > 1 ? /{[\\S\\s]*?}/ : _pairs[4], arr)\n    arr[5] = _rewrite(pair.length > 3 ? /\\\\({|})/g : _pairs[5], arr)\n    arr[6] = _rewrite(_pairs[6], arr)\n    arr[7] = RegExp('\\\\\\\\(' + arr[3] + ')|([[({])|(' + arr[3] + ')|' + S_QBLOCKS, REGLOB)\n    arr[8] = pair\n    return arr\n  }\n\n  function _brackets (reOrIdx) {\n    return reOrIdx instanceof RegExp ? _regex(reOrIdx) : _cache[reOrIdx]\n  }\n\n  _brackets.split = function split (str, tmpl, _bp) {\n    // istanbul ignore next: _bp is for the compiler\n    if (!_bp) _bp = _cache\n\n    var\n      parts = [],\n      match,\n      isexpr,\n      start,\n      pos,\n      re = _bp[6]\n\n    isexpr = start = re.lastIndex = 0\n\n    while ((match = re.exec(str))) {\n\n      pos = match.index\n\n      if (isexpr) {\n\n        if (match[2]) {\n          re.lastIndex = skipBraces(str, match[2], re.lastIndex)\n          continue\n        }\n        if (!match[3]) {\n          continue\n        }\n      }\n\n      if (!match[1]) {\n        unescapeStr(str.slice(start, pos))\n        start = re.lastIndex\n        re = _bp[6 + (isexpr ^= 1)]\n        re.lastIndex = start\n      }\n    }\n\n    if (str && start < str.length) {\n      unescapeStr(str.slice(start))\n    }\n\n    return parts\n\n    function unescapeStr (s) {\n      if (tmpl || isexpr) {\n        parts.push(s && s.replace(_bp[5], '$1'))\n      } else {\n        parts.push(s)\n      }\n    }\n\n    function skipBraces (s, ch, ix) {\n      var\n        match,\n        recch = FINDBRACES[ch]\n\n      recch.lastIndex = ix\n      ix = 1\n      while ((match = recch.exec(s))) {\n        if (match[1] &&\n          !(match[1] === ch ? ++ix : --ix)) break\n      }\n      return ix ? s.length : recch.lastIndex\n    }\n  }\n\n  _brackets.hasExpr = function hasExpr (str) {\n    return _cache[4].test(str)\n  }\n\n  _brackets.loopKeys = function loopKeys (expr) {\n    var m = expr.match(_cache[9])\n\n    return m\n      ? { key: m[1], pos: m[2], val: _cache[0] + m[3].trim() + _cache[1] }\n      : { val: expr.trim() }\n  }\n\n  _brackets.array = function array (pair) {\n    return pair ? _create(pair) : _cache\n  }\n\n  function _reset (pair) {\n    if ((pair || (pair = DEFAULT)) !== _cache[8]) {\n      _cache = _create(pair)\n      _regex = pair === DEFAULT ? _loopback : _rewrite\n      _cache[9] = _regex(_pairs[9])\n    }\n    cachedBrackets = pair\n  }\n\n  function _setSettings (o) {\n    var b\n\n    o = o || {}\n    b = o.brackets\n    Object.defineProperty(o, 'brackets', {\n      set: _reset,\n      get: function () { return cachedBrackets },\n      enumerable: true\n    })\n    _settings = o\n    _reset(b)\n  }\n\n  Object.defineProperty(_brackets, 'settings', {\n    set: _setSettings,\n    get: function () { return _settings }\n  })\n\n  /* istanbul ignore next: in the browser riot is always in the scope */\n  _brackets.settings = typeof riot !== 'undefined' && riot.settings || {}\n  _brackets.set = _reset\n\n  _brackets.R_STRINGS = R_STRINGS\n  _brackets.R_MLCOMMS = R_MLCOMMS\n  _brackets.S_QBLOCKS = S_QBLOCKS\n\n  return _brackets\n\n})()\n\n/**\n * @module tmpl\n *\n * tmpl          - Root function, returns the template value, render with data\n * tmpl.hasExpr  - Test the existence of a expression inside a string\n * tmpl.loopKeys - Get the keys for an 'each' loop (used by `_each`)\n */\n\nvar tmpl = (function () {\n\n  var _cache = {}\n\n  function _tmpl (str, data) {\n    if (!str) return str\n\n    return (_cache[str] || (_cache[str] = _create(str))).call(data, _logErr)\n  }\n\n  _tmpl.haveRaw = brackets.hasRaw\n\n  _tmpl.hasExpr = brackets.hasExpr\n\n  _tmpl.loopKeys = brackets.loopKeys\n\n  _tmpl.errorHandler = null\n\n  function _logErr (err, ctx) {\n\n    if (_tmpl.errorHandler) {\n\n      err.riotData = {\n        tagName: ctx && ctx.root && ctx.root.tagName,\n        _riot_id: ctx && ctx._riot_id  //eslint-disable-line camelcase\n      }\n      _tmpl.errorHandler(err)\n    }\n  }\n\n  function _create (str) {\n    var expr = _getTmpl(str)\n\n    if (expr.slice(0, 11) !== 'try{return ') expr = 'return ' + expr\n\n/* eslint-disable */\n\n    return new Function('E', expr + ';')\n/* eslint-enable */\n  }\n\n  var\n    CH_IDEXPR = '\\u2057',\n    RE_CSNAME = /^(?:(-?[_A-Za-z\\xA0-\\xFF][-\\w\\xA0-\\xFF]*)|\\u2057(\\d+)~):/,\n    RE_QBLOCK = RegExp(brackets.S_QBLOCKS, 'g'),\n    RE_DQUOTE = /\\u2057/g,\n    RE_QBMARK = /\\u2057(\\d+)~/g\n\n  function _getTmpl (str) {\n    var\n      qstr = [],\n      expr,\n      parts = brackets.split(str.replace(RE_DQUOTE, '\"'), 1)\n\n    if (parts.length > 2 || parts[0]) {\n      var i, j, list = []\n\n      for (i = j = 0; i < parts.length; ++i) {\n\n        expr = parts[i]\n\n        if (expr && (expr = i & 1\n\n            ? _parseExpr(expr, 1, qstr)\n\n            : '\"' + expr\n                .replace(/\\\\/g, '\\\\\\\\')\n                .replace(/\\r\\n?|\\n/g, '\\\\n')\n                .replace(/\"/g, '\\\\\"') +\n              '\"'\n\n          )) list[j++] = expr\n\n      }\n\n      expr = j < 2 ? list[0]\n           : '[' + list.join(',') + '].join(\"\")'\n\n    } else {\n\n      expr = _parseExpr(parts[1], 0, qstr)\n    }\n\n    if (qstr[0]) {\n      expr = expr.replace(RE_QBMARK, function (_, pos) {\n        return qstr[pos]\n          .replace(/\\r/g, '\\\\r')\n          .replace(/\\n/g, '\\\\n')\n      })\n    }\n    return expr\n  }\n\n  var\n    RE_BREND = {\n      '(': /[()]/g,\n      '[': /[[\\]]/g,\n      '{': /[{}]/g\n    }\n\n  function _parseExpr (expr, asText, qstr) {\n\n    expr = expr\n          .replace(RE_QBLOCK, function (s, div) {\n            return s.length > 2 && !div ? CH_IDEXPR + (qstr.push(s) - 1) + '~' : s\n          })\n          .replace(/\\s+/g, ' ').trim()\n          .replace(/\\ ?([[\\({},?\\.:])\\ ?/g, '$1')\n\n    if (expr) {\n      var\n        list = [],\n        cnt = 0,\n        match\n\n      while (expr &&\n            (match = expr.match(RE_CSNAME)) &&\n            !match.index\n        ) {\n        var\n          key,\n          jsb,\n          re = /,|([[{(])|$/g\n\n        expr = RegExp.rightContext\n        key  = match[2] ? qstr[match[2]].slice(1, -1).trim().replace(/\\s+/g, ' ') : match[1]\n\n        while (jsb = (match = re.exec(expr))[1]) skipBraces(jsb, re)\n\n        jsb  = expr.slice(0, match.index)\n        expr = RegExp.rightContext\n\n        list[cnt++] = _wrapExpr(jsb, 1, key)\n      }\n\n      expr = !cnt ? _wrapExpr(expr, asText)\n           : cnt > 1 ? '[' + list.join(',') + '].join(\" \").trim()' : list[0]\n    }\n    return expr\n\n    function skipBraces (ch, re) {\n      var\n        mm,\n        lv = 1,\n        ir = RE_BREND[ch]\n\n      ir.lastIndex = re.lastIndex\n      while (mm = ir.exec(expr)) {\n        if (mm[0] === ch) ++lv\n        else if (!--lv) break\n      }\n      re.lastIndex = lv ? expr.length : ir.lastIndex\n    }\n  }\n\n  // istanbul ignore next: not both\n  var // eslint-disable-next-line max-len\n    JS_CONTEXT = '\"in this?this:' + (typeof window !== 'object' ? 'global' : 'window') + ').',\n    JS_VARNAME = /[,{][$\\w]+:|(^ *|[^$\\w\\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\\w]))([$_A-Za-z][$\\w]*)/g,\n    JS_NOPROPS = /^(?=(\\.[$\\w]+))\\1(?:[^.[(]|$)/\n\n  function _wrapExpr (expr, asText, key) {\n    var tb\n\n    expr = expr.replace(JS_VARNAME, function (match, p, mvar, pos, s) {\n      if (mvar) {\n        pos = tb ? 0 : pos + match.length\n\n        if (mvar !== 'this' && mvar !== 'global' && mvar !== 'window') {\n          match = p + '(\"' + mvar + JS_CONTEXT + mvar\n          if (pos) tb = (s = s[pos]) === '.' || s === '(' || s === '['\n        } else if (pos) {\n          tb = !JS_NOPROPS.test(s.slice(pos))\n        }\n      }\n      return match\n    })\n\n    if (tb) {\n      expr = 'try{return ' + expr + '}catch(e){E(e,this)}'\n    }\n\n    if (key) {\n\n      expr = (tb\n          ? 'function(){' + expr + '}.call(this)' : '(' + expr + ')'\n        ) + '?\"' + key + '\":\"\"'\n\n    } else if (asText) {\n\n      expr = 'function(v){' + (tb\n          ? expr.replace('return ', 'v=') : 'v=(' + expr + ')'\n        ) + ';return v||v===0?v:\"\"}.call(this)'\n    }\n\n    return expr\n  }\n\n  // istanbul ignore next: compatibility fix for beta versions\n  _tmpl.parse = function (s) { return s }\n\n  _tmpl.version = brackets.version = 'v2.4.0'\n\n  return _tmpl\n\n})()\n\n/*\n  lib/browser/tag/mkdom.js\n\n  Includes hacks needed for the Internet Explorer version 9 and below\n  See: http://kangax.github.io/compat-table/es5/#ie8\n       http://codeplanet.io/dropping-ie8/\n*/\nvar mkdom = (function _mkdom() {\n  var\n    reHasYield  = /<yield\\b/i,\n    reYieldAll  = /<yield\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>|>)/ig,\n    reYieldSrc  = /<yield\\s+to=['\"]([^'\">]*)['\"]\\s*>([\\S\\s]*?)<\\/yield\\s*>/ig,\n    reYieldDest = /<yield\\s+from=['\"]?([-\\w]+)['\"]?\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>)/ig\n  var\n    rootEls = { tr: 'tbody', th: 'tr', td: 'tr', col: 'colgroup' },\n    tblTags = IE_VERSION && IE_VERSION < 10\n      ? SPECIAL_TAGS_REGEX : /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/\n\n  /**\n   * Creates a DOM element to wrap the given content. Normally an `DIV`, but can be\n   * also a `TABLE`, `SELECT`, `TBODY`, `TR`, or `COLGROUP` element.\n   *\n   * @param   {string} templ  - The template coming from the custom tag definition\n   * @param   {string} [html] - HTML content that comes from the DOM element where you\n   *           will mount the tag, mostly the original tag in the page\n   * @returns {HTMLElement} DOM element with _templ_ merged through `YIELD` with the _html_.\n   */\n  function _mkdom(templ, html) {\n    var\n      match   = templ && templ.match(/^\\s*<([-\\w]+)/),\n      tagName = match && match[1].toLowerCase(),\n      el = mkEl('div', isSVGTag(tagName))\n\n    // replace all the yield tags with the tag inner html\n    templ = replaceYield(templ, html)\n\n    /* istanbul ignore next */\n    if (tblTags.test(tagName))\n      el = specialTags(el, templ, tagName)\n    else\n      setInnerHTML(el, templ)\n\n    el.stub = true\n\n    return el\n  }\n\n  /*\n    Creates the root element for table or select child elements:\n    tr/th/td/thead/tfoot/tbody/caption/col/colgroup/option/optgroup\n  */\n  function specialTags(el, templ, tagName) {\n    var\n      select = tagName[0] === 'o',\n      parent = select ? 'select>' : 'table>'\n\n    // trim() is important here, this ensures we don't have artifacts,\n    // so we can check if we have only one element inside the parent\n    el.innerHTML = '<' + parent + templ.trim() + '</' + parent\n    parent = el.firstChild\n\n    // returns the immediate parent if tr/th/td/col is the only element, if not\n    // returns the whole tree, as this can include additional elements\n    if (select) {\n      parent.selectedIndex = -1  // for IE9, compatible w/current riot behavior\n    } else {\n      // avoids insertion of cointainer inside container (ex: tbody inside tbody)\n      var tname = rootEls[tagName]\n      if (tname && parent.childElementCount === 1) parent = $(tname, parent)\n    }\n    return parent\n  }\n\n  /*\n    Replace the yield tag from any tag template with the innerHTML of the\n    original tag in the page\n  */\n  function replaceYield(templ, html) {\n    // do nothing if no yield\n    if (!reHasYield.test(templ)) return templ\n\n    // be careful with #1343 - string on the source having `$1`\n    var src = {}\n\n    html = html && html.replace(reYieldSrc, function (_, ref, text) {\n      src[ref] = src[ref] || text   // preserve first definition\n      return ''\n    }).trim()\n\n    return templ\n      .replace(reYieldDest, function (_, ref, def) {  // yield with from - to attrs\n        return src[ref] || def || ''\n      })\n      .replace(reYieldAll, function (_, def) {        // yield without any \"from\"\n        return html || def || ''\n      })\n  }\n\n  return _mkdom\n\n})()\n\n/**\n * Convert the item looped into an object used to extend the child tag properties\n * @param   { Object } expr - object containing the keys used to extend the children tags\n * @param   { * } key - value to assign to the new object returned\n * @param   { * } val - value containing the position of the item in the array\n * @returns { Object } - new object containing the values of the original item\n *\n * The variables 'key' and 'val' are arbitrary.\n * They depend on the collection type looped (Array, Object)\n * and on the expression used on the each tag\n *\n */\nfunction mkitem(expr, key, val) {\n  var item = {}\n  item[expr.key] = key\n  if (expr.pos) item[expr.pos] = val\n  return item\n}\n\n/**\n * Unmount the redundant tags\n * @param   { Array } items - array containing the current items to loop\n * @param   { Array } tags - array containing all the children tags\n */\nfunction unmountRedundant(items, tags) {\n\n  var i = tags.length,\n    j = items.length,\n    t\n\n  while (i > j) {\n    t = tags[--i]\n    tags.splice(i, 1)\n    t.unmount()\n  }\n}\n\n/**\n * Move the nested custom tags in non custom loop tags\n * @param   { Object } child - non custom loop tag\n * @param   { Number } i - current position of the loop tag\n */\nfunction moveNestedTags(child, i) {\n  Object.keys(child.tags).forEach(function(tagName) {\n    var tag = child.tags[tagName]\n    if (isArray(tag))\n      each(tag, function (t) {\n        moveChildTag(t, tagName, i)\n      })\n    else\n      moveChildTag(tag, tagName, i)\n  })\n}\n\n/**\n * Adds the elements for a virtual tag\n * @param { Tag } tag - the tag whose root's children will be inserted or appended\n * @param { Node } src - the node that will do the inserting or appending\n * @param { Tag } target - only if inserting, insert before this tag's first child\n */\nfunction addVirtual(tag, src, target) {\n  var el = tag._root, sib\n  tag._virts = []\n  while (el) {\n    sib = el.nextSibling\n    if (target)\n      src.insertBefore(el, target._root)\n    else\n      src.appendChild(el)\n\n    tag._virts.push(el) // hold for unmounting\n    el = sib\n  }\n}\n\n/**\n * Move virtual tag and all child nodes\n * @param { Tag } tag - first child reference used to start move\n * @param { Node } src  - the node that will do the inserting\n * @param { Tag } target - insert before this tag's first child\n * @param { Number } len - how many child nodes to move\n */\nfunction moveVirtual(tag, src, target, len) {\n  var el = tag._root, sib, i = 0\n  for (; i < len; i++) {\n    sib = el.nextSibling\n    src.insertBefore(el, target._root)\n    el = sib\n  }\n}\n\n\n/**\n * Manage tags having the 'each'\n * @param   { Object } dom - DOM node we need to loop\n * @param   { Tag } parent - parent tag instance where the dom node is contained\n * @param   { String } expr - string contained in the 'each' attribute\n */\nfunction _each(dom, parent, expr) {\n\n  // remove the each property from the original tag\n  remAttr(dom, 'each')\n\n  var mustReorder = typeof getAttr(dom, 'no-reorder') !== T_STRING || remAttr(dom, 'no-reorder'),\n    tagName = getTagName(dom),\n    impl = __tagImpl[tagName] || { tmpl: getOuterHTML(dom) },\n    useRoot = SPECIAL_TAGS_REGEX.test(tagName),\n    root = dom.parentNode,\n    ref = document.createTextNode(''),\n    child = getTag(dom),\n    isOption = tagName.toLowerCase() === 'option', // the option tags must be treated differently\n    tags = [],\n    oldItems = [],\n    hasKeys,\n    isVirtual = dom.tagName == 'VIRTUAL'\n\n  // parse the each expression\n  expr = tmpl.loopKeys(expr)\n\n  // insert a marked where the loop tags will be injected\n  root.insertBefore(ref, dom)\n\n  // clean template code\n  parent.one('before-mount', function () {\n\n    // remove the original DOM node\n    dom.parentNode.removeChild(dom)\n    if (root.stub) root = parent.root\n\n  }).on('update', function () {\n    // get the new items collection\n    var items = tmpl(expr.val, parent),\n      // create a fragment to hold the new DOM nodes to inject in the parent tag\n      frag = document.createDocumentFragment()\n\n    // object loop. any changes cause full redraw\n    if (!isArray(items)) {\n      hasKeys = items || false\n      items = hasKeys ?\n        Object.keys(items).map(function (key) {\n          return mkitem(expr, key, items[key])\n        }) : []\n    }\n\n    // loop all the new items\n    var i = 0,\n      itemsLength = items.length\n\n    for (; i < itemsLength; i++) {\n      // reorder only if the items are objects\n      var\n        item = items[i],\n        _mustReorder = mustReorder && typeof item == T_OBJECT && !hasKeys,\n        oldPos = oldItems.indexOf(item),\n        pos = ~oldPos && _mustReorder ? oldPos : i,\n        // does a tag exist in this position?\n        tag = tags[pos]\n\n      item = !hasKeys && expr.key ? mkitem(expr, item, i) : item\n\n      // new tag\n      if (\n        !_mustReorder && !tag // with no-reorder we just update the old tags\n        ||\n        _mustReorder && !~oldPos || !tag // by default we always try to reorder the DOM elements\n      ) {\n\n        tag = new Tag(impl, {\n          parent: parent,\n          isLoop: true,\n          hasImpl: !!__tagImpl[tagName],\n          root: useRoot ? root : dom.cloneNode(),\n          item: item\n        }, dom.innerHTML)\n\n        tag.mount()\n\n        if (isVirtual) tag._root = tag.root.firstChild // save reference for further moves or inserts\n        // this tag must be appended\n        if (i == tags.length || !tags[i]) { // fix 1581\n          if (isVirtual)\n            addVirtual(tag, frag)\n          else frag.appendChild(tag.root)\n        }\n        // this tag must be insert\n        else {\n          if (isVirtual)\n            addVirtual(tag, root, tags[i])\n          else root.insertBefore(tag.root, tags[i].root) // #1374 some browsers reset selected here\n          oldItems.splice(i, 0, item)\n        }\n\n        tags.splice(i, 0, tag)\n        pos = i // handled here so no move\n      } else tag.update(item, true)\n\n      // reorder the tag if it's not located in its previous position\n      if (\n        pos !== i && _mustReorder &&\n        tags[i] // fix 1581 unable to reproduce it in a test!\n      ) {\n        // update the DOM\n        if (isVirtual)\n          moveVirtual(tag, root, tags[i], dom.childNodes.length)\n        else root.insertBefore(tag.root, tags[i].root)\n        // update the position attribute if it exists\n        if (expr.pos)\n          tag[expr.pos] = i\n        // move the old tag instance\n        tags.splice(i, 0, tags.splice(pos, 1)[0])\n        // move the old item\n        oldItems.splice(i, 0, oldItems.splice(pos, 1)[0])\n        // if the loop tags are not custom\n        // we need to move all their custom tags into the right position\n        if (!child && tag.tags) moveNestedTags(tag, i)\n      }\n\n      // cache the original item to use it in the events bound to this node\n      // and its children\n      tag._item = item\n      // cache the real parent tag internally\n      defineProperty(tag, '_parent', parent)\n    }\n\n    // remove the redundant tags\n    unmountRedundant(items, tags)\n\n    // insert the new nodes\n    if (isOption) {\n      root.appendChild(frag)\n\n      // #1374 FireFox bug in <option selected={expression}>\n      if (FIREFOX && !root.multiple) {\n        for (var n = 0; n < root.length; n++) {\n          if (root[n].__riot1374) {\n            root.selectedIndex = n  // clear other options\n            delete root[n].__riot1374\n            break\n          }\n        }\n      }\n    }\n    else root.insertBefore(frag, ref)\n\n    // set the 'tags' property of the parent tag\n    // if child is 'undefined' it means that we don't need to set this property\n    // for example:\n    // we don't need store the `myTag.tags['div']` property if we are looping a div tag\n    // but we need to track the `myTag.tags['child']` property looping a custom child node named `child`\n    if (child) parent.tags[tagName] = tags\n\n    // clone the items array\n    oldItems = items.slice()\n\n  })\n\n}\n/**\n * Object that will be used to inject and manage the css of every tag instance\n */\nvar styleManager = (function(_riot) {\n\n  if (!window) return { // skip injection on the server\n    add: function () {},\n    inject: function () {}\n  }\n\n  var styleNode = (function () {\n    // create a new style element with the correct type\n    var newNode = mkEl('style')\n    setAttr(newNode, 'type', 'text/css')\n\n    // replace any user node or insert the new one into the head\n    var userNode = $('style[type=riot]')\n    if (userNode) {\n      if (userNode.id) newNode.id = userNode.id\n      userNode.parentNode.replaceChild(newNode, userNode)\n    }\n    else document.getElementsByTagName('head')[0].appendChild(newNode)\n\n    return newNode\n  })()\n\n  // Create cache and shortcut to the correct property\n  var cssTextProp = styleNode.styleSheet,\n    stylesToInject = ''\n\n  // Expose the style node in a non-modificable property\n  Object.defineProperty(_riot, 'styleNode', {\n    value: styleNode,\n    writable: true\n  })\n\n  /**\n   * Public api\n   */\n  return {\n    /**\n     * Save a tag style to be later injected into DOM\n     * @param   { String } css [description]\n     */\n    add: function(css) {\n      stylesToInject += css\n    },\n    /**\n     * Inject all previously saved tag styles into DOM\n     * innerHTML seems slow: http://jsperf.com/riot-insert-style\n     */\n    inject: function() {\n      if (stylesToInject) {\n        if (cssTextProp) cssTextProp.cssText += stylesToInject\n        else styleNode.innerHTML += stylesToInject\n        stylesToInject = ''\n      }\n    }\n  }\n\n})(riot)\n\n\nfunction parseNamedElements(root, tag, childTags, forceParsingNamed) {\n\n  walk(root, function(dom) {\n    if (dom.nodeType == 1) {\n      dom.isLoop = dom.isLoop ||\n                  (dom.parentNode && dom.parentNode.isLoop || getAttr(dom, 'each'))\n                    ? 1 : 0\n\n      // custom child tag\n      if (childTags) {\n        var child = getTag(dom)\n\n        if (child && !dom.isLoop)\n          childTags.push(initChildTag(child, {root: dom, parent: tag}, dom.innerHTML, tag))\n      }\n\n      if (!dom.isLoop || forceParsingNamed)\n        setNamed(dom, tag, [])\n    }\n\n  })\n\n}\n\nfunction parseExpressions(root, tag, expressions) {\n\n  function addExpr(dom, val, extra) {\n    if (tmpl.hasExpr(val)) {\n      expressions.push(extend({ dom: dom, expr: val }, extra))\n    }\n  }\n\n  walk(root, function(dom) {\n    var type = dom.nodeType,\n      attr\n\n    // text node\n    if (type == 3 && dom.parentNode.tagName != 'STYLE') addExpr(dom, dom.nodeValue)\n    if (type != 1) return\n\n    /* element */\n\n    // loop\n    attr = getAttr(dom, 'each')\n\n    if (attr) { _each(dom, tag, attr); return false }\n\n    // attribute expressions\n    each(dom.attributes, function(attr) {\n      var name = attr.name,\n        bool = name.split('__')[1]\n\n      addExpr(dom, attr.value, { attr: bool || name, bool: bool })\n      if (bool) { remAttr(dom, name); return false }\n\n    })\n\n    // skip custom tags\n    if (getTag(dom)) return false\n\n  })\n\n}\nfunction Tag(impl, conf, innerHTML) {\n\n  var self = riot.observable(this),\n    opts = inherit(conf.opts) || {},\n    parent = conf.parent,\n    isLoop = conf.isLoop,\n    hasImpl = conf.hasImpl,\n    item = cleanUpData(conf.item),\n    expressions = [],\n    childTags = [],\n    root = conf.root,\n    tagName = root.tagName.toLowerCase(),\n    attr = {},\n    propsInSyncWithParent = [],\n    dom\n\n  // only call unmount if we have a valid __tagImpl (has name property)\n  if (impl.name && root._tag) root._tag.unmount(true)\n\n  // not yet mounted\n  this.isMounted = false\n  root.isLoop = isLoop\n\n  // keep a reference to the tag just created\n  // so we will be able to mount this tag multiple times\n  root._tag = this\n\n  // create a unique id to this tag\n  // it could be handy to use it also to improve the virtual dom rendering speed\n  defineProperty(this, '_riot_id', ++__uid) // base 1 allows test !t._riot_id\n\n  extend(this, { parent: parent, root: root, opts: opts}, item)\n  // protect the \"tags\" property from being overridden\n  defineProperty(this, 'tags', {})\n\n  // grab attributes\n  each(root.attributes, function(el) {\n    var val = el.value\n    // remember attributes with expressions only\n    if (tmpl.hasExpr(val)) attr[el.name] = val\n  })\n\n  dom = mkdom(impl.tmpl, innerHTML)\n\n  // options\n  function updateOpts() {\n    var ctx = hasImpl && isLoop ? self : parent || self\n\n    // update opts from current DOM attributes\n    each(root.attributes, function(el) {\n      var val = el.value\n      opts[toCamel(el.name)] = tmpl.hasExpr(val) ? tmpl(val, ctx) : val\n    })\n    // recover those with expressions\n    each(Object.keys(attr), function(name) {\n      opts[toCamel(name)] = tmpl(attr[name], ctx)\n    })\n  }\n\n  function normalizeData(data) {\n    for (var key in item) {\n      if (typeof self[key] !== T_UNDEF && isWritable(self, key))\n        self[key] = data[key]\n    }\n  }\n\n  function inheritFromParent () {\n    if (!self.parent || !isLoop) return\n    each(Object.keys(self.parent), function(k) {\n      // some properties must be always in sync with the parent tag\n      var mustSync = !RESERVED_WORDS_BLACKLIST.test(k) && contains(propsInSyncWithParent, k)\n      if (typeof self[k] === T_UNDEF || mustSync) {\n        // track the property to keep in sync\n        // so we can keep it updated\n        if (!mustSync) propsInSyncWithParent.push(k)\n        self[k] = self.parent[k]\n      }\n    })\n  }\n\n  /**\n   * Update the tag expressions and options\n   * @param   { * }  data - data we want to use to extend the tag properties\n   * @param   { Boolean } isInherited - is this update coming from a parent tag?\n   * @returns { self }\n   */\n  defineProperty(this, 'update', function(data, isInherited) {\n\n    // make sure the data passed will not override\n    // the component core methods\n    data = cleanUpData(data)\n    // inherit properties from the parent\n    inheritFromParent()\n    // normalize the tag properties in case an item object was initially passed\n    if (data && isObject(item)) {\n      normalizeData(data)\n      item = data\n    }\n    extend(self, data)\n    updateOpts()\n    self.trigger('update', data)\n    update(expressions, self)\n\n    // the updated event will be triggered\n    // once the DOM will be ready and all the re-flows are completed\n    // this is useful if you want to get the \"real\" root properties\n    // 4 ex: root.offsetWidth ...\n    if (isInherited && self.parent)\n      // closes #1599\n      self.parent.one('updated', function() { self.trigger('updated') })\n    else rAF(function() { self.trigger('updated') })\n\n    return this\n  })\n\n  defineProperty(this, 'mixin', function() {\n    each(arguments, function(mix) {\n      var instance\n\n      mix = typeof mix === T_STRING ? riot.mixin(mix) : mix\n\n      // check if the mixin is a function\n      if (isFunction(mix)) {\n        // create the new mixin instance\n        instance = new mix()\n        // save the prototype to loop it afterwards\n        mix = mix.prototype\n      } else instance = mix\n\n      // loop the keys in the function prototype or the all object keys\n      each(Object.getOwnPropertyNames(mix), function(key) {\n        // bind methods to self\n        if (key != 'init')\n          self[key] = isFunction(instance[key]) ?\n                        instance[key].bind(self) :\n                        instance[key]\n      })\n\n      // init method will be called automatically\n      if (instance.init) instance.init.bind(self)()\n    })\n    return this\n  })\n\n  defineProperty(this, 'mount', function() {\n\n    updateOpts()\n\n    // add global mixins\n    var globalMixin = riot.mixin(GLOBAL_MIXIN)\n    if (globalMixin)\n      for (var i in globalMixin)\n        if (globalMixin.hasOwnProperty(i))\n          self.mixin(globalMixin[i])\n\n    // initialiation\n    if (impl.fn) impl.fn.call(self, opts)\n\n    // parse layout after init. fn may calculate args for nested custom tags\n    parseExpressions(dom, self, expressions)\n\n    // mount the child tags\n    toggle(true)\n\n    // update the root adding custom attributes coming from the compiler\n    // it fixes also #1087\n    if (impl.attrs)\n      walkAttributes(impl.attrs, function (k, v) { setAttr(root, k, v) })\n    if (impl.attrs || hasImpl)\n      parseExpressions(self.root, self, expressions)\n\n    if (!self.parent || isLoop) self.update(item)\n\n    // internal use only, fixes #403\n    self.trigger('before-mount')\n\n    if (isLoop && !hasImpl) {\n      // update the root attribute for the looped elements\n      root = dom.firstChild\n    } else {\n      while (dom.firstChild) root.appendChild(dom.firstChild)\n      if (root.stub) root = parent.root\n    }\n\n    defineProperty(self, 'root', root)\n\n    // parse the named dom nodes in the looped child\n    // adding them to the parent as well\n    if (isLoop)\n      parseNamedElements(self.root, self.parent, null, true)\n\n    // if it's not a child tag we can trigger its mount event\n    if (!self.parent || self.parent.isMounted) {\n      self.isMounted = true\n      self.trigger('mount')\n    }\n    // otherwise we need to wait that the parent event gets triggered\n    else self.parent.one('mount', function() {\n      // avoid to trigger the `mount` event for the tags\n      // not visible included in an if statement\n      if (!isInStub(self.root)) {\n        self.parent.isMounted = self.isMounted = true\n        self.trigger('mount')\n      }\n    })\n  })\n\n\n  defineProperty(this, 'unmount', function(keepRootTag) {\n    var el = root,\n      p = el.parentNode,\n      ptag,\n      tagIndex = __virtualDom.indexOf(self)\n\n    self.trigger('before-unmount')\n\n    // remove this tag instance from the global virtualDom variable\n    if (~tagIndex)\n      __virtualDom.splice(tagIndex, 1)\n\n    if (p) {\n\n      if (parent) {\n        ptag = getImmediateCustomParentTag(parent)\n        // remove this tag from the parent tags object\n        // if there are multiple nested tags with same name..\n        // remove this element form the array\n        if (isArray(ptag.tags[tagName]))\n          each(ptag.tags[tagName], function(tag, i) {\n            if (tag._riot_id == self._riot_id)\n              ptag.tags[tagName].splice(i, 1)\n          })\n        else\n          // otherwise just delete the tag instance\n          ptag.tags[tagName] = undefined\n      }\n\n      else\n        while (el.firstChild) el.removeChild(el.firstChild)\n\n      if (!keepRootTag)\n        p.removeChild(el)\n      else {\n        // the riot-tag and the data-is attributes aren't needed anymore, remove them\n        remAttr(p, RIOT_TAG_IS)\n        remAttr(p, RIOT_TAG) // this will be removed in riot 3.0.0\n      }\n\n    }\n\n    if (this._virts) {\n      each(this._virts, function(v) {\n        if (v.parentNode) v.parentNode.removeChild(v)\n      })\n    }\n\n    self.trigger('unmount')\n    toggle()\n    self.off('*')\n    self.isMounted = false\n    delete root._tag\n\n  })\n\n  // proxy function to bind updates\n  // dispatched from a parent tag\n  function onChildUpdate(data) { self.update(data, true) }\n\n  function toggle(isMount) {\n\n    // mount/unmount children\n    each(childTags, function(child) { child[isMount ? 'mount' : 'unmount']() })\n\n    // listen/unlisten parent (events flow one way from parent to children)\n    if (!parent) return\n    var evt = isMount ? 'on' : 'off'\n\n    // the loop tags will be always in sync with the parent automatically\n    if (isLoop)\n      parent[evt]('unmount', self.unmount)\n    else {\n      parent[evt]('update', onChildUpdate)[evt]('unmount', self.unmount)\n    }\n  }\n\n\n  // named elements available for fn\n  parseNamedElements(dom, this, childTags)\n\n}\n/**\n * Attach an event to a DOM node\n * @param { String } name - event name\n * @param { Function } handler - event callback\n * @param { Object } dom - dom node\n * @param { Tag } tag - tag instance\n */\nfunction setEventHandler(name, handler, dom, tag) {\n\n  dom[name] = function(e) {\n\n    var ptag = tag._parent,\n      item = tag._item,\n      el\n\n    if (!item)\n      while (ptag && !item) {\n        item = ptag._item\n        ptag = ptag._parent\n      }\n\n    // cross browser event fix\n    e = e || window.event\n\n    // override the event properties\n    if (isWritable(e, 'currentTarget')) e.currentTarget = dom\n    if (isWritable(e, 'target')) e.target = e.srcElement\n    if (isWritable(e, 'which')) e.which = e.charCode || e.keyCode\n\n    e.item = item\n\n    // prevent default behaviour (by default)\n    if (handler.call(tag, e) !== true && !/radio|check/.test(dom.type)) {\n      if (e.preventDefault) e.preventDefault()\n      e.returnValue = false\n    }\n\n    if (!e.preventUpdate) {\n      el = item ? getImmediateCustomParentTag(ptag) : tag\n      el.update()\n    }\n\n  }\n\n}\n\n\n/**\n * Insert a DOM node replacing another one (used by if- attribute)\n * @param   { Object } root - parent node\n * @param   { Object } node - node replaced\n * @param   { Object } before - node added\n */\nfunction insertTo(root, node, before) {\n  if (!root) return\n  root.insertBefore(before, node)\n  root.removeChild(node)\n}\n\n/**\n * Update the expressions in a Tag instance\n * @param   { Array } expressions - expression that must be re evaluated\n * @param   { Tag } tag - tag instance\n */\nfunction update(expressions, tag) {\n\n  each(expressions, function(expr, i) {\n\n    var dom = expr.dom,\n      attrName = expr.attr,\n      value = tmpl(expr.expr, tag),\n      parent = expr.dom.parentNode\n\n    if (expr.bool) {\n      value = !!value\n    } else if (value == null) {\n      value = ''\n    }\n\n    // #1638: regression of #1612, update the dom only if the value of the\n    // expression was changed\n    if (expr.value === value) {\n      return\n    }\n    expr.value = value\n\n    // textarea and text nodes has no attribute name\n    if (!attrName) {\n      // about #815 w/o replace: the browser converts the value to a string,\n      // the comparison by \"==\" does too, but not in the server\n      value += ''\n      // test for parent avoids error with invalid assignment to nodeValue\n      if (parent) {\n        if (parent.tagName === 'TEXTAREA') {\n          parent.value = value                    // #1113\n          if (!IE_VERSION) dom.nodeValue = value  // #1625 IE throws here, nodeValue\n        }                                         // will be available on 'updated'\n        else dom.nodeValue = value\n      }\n      return\n    }\n\n    // ~~#1612: look for changes in dom.value when updating the value~~\n    if (attrName === 'value') {\n      dom.value = value\n      return\n    }\n\n    // remove original attribute\n    remAttr(dom, attrName)\n\n    // event handler\n    if (isFunction(value)) {\n      setEventHandler(attrName, value, dom, tag)\n\n    // if- conditional\n    } else if (attrName == 'if') {\n      var stub = expr.stub,\n        add = function() { insertTo(stub.parentNode, stub, dom) },\n        remove = function() { insertTo(dom.parentNode, dom, stub) }\n\n      // add to DOM\n      if (value) {\n        if (stub) {\n          add()\n          dom.inStub = false\n          // avoid to trigger the mount event if the tags is not visible yet\n          // maybe we can optimize this avoiding to mount the tag at all\n          if (!isInStub(dom)) {\n            walk(dom, function(el) {\n              if (el._tag && !el._tag.isMounted)\n                el._tag.isMounted = !!el._tag.trigger('mount')\n            })\n          }\n        }\n      // remove from DOM\n      } else {\n        stub = expr.stub = stub || document.createTextNode('')\n        // if the parentNode is defined we can easily replace the tag\n        if (dom.parentNode)\n          remove()\n        // otherwise we need to wait the updated event\n        else (tag.parent || tag).one('updated', remove)\n\n        dom.inStub = true\n      }\n    // show / hide\n    } else if (attrName === 'show') {\n      dom.style.display = value ? '' : 'none'\n\n    } else if (attrName === 'hide') {\n      dom.style.display = value ? 'none' : ''\n\n    } else if (expr.bool) {\n      dom[attrName] = value\n      if (value) setAttr(dom, attrName, attrName)\n      if (FIREFOX && attrName === 'selected' && dom.tagName === 'OPTION') {\n        dom.__riot1374 = value   // #1374\n      }\n\n    } else if (value === 0 || value && typeof value !== T_OBJECT) {\n      // <img src=\"{ expr }\">\n      if (startsWith(attrName, RIOT_PREFIX) && attrName != RIOT_TAG) {\n        attrName = attrName.slice(RIOT_PREFIX.length)\n      }\n      setAttr(dom, attrName, value)\n    }\n\n  })\n\n}\n/**\n * Specialized function for looping an array-like collection with `each={}`\n * @param   { Array } els - collection of items\n * @param   {Function} fn - callback function\n * @returns { Array } the array looped\n */\nfunction each(els, fn) {\n  var len = els ? els.length : 0\n\n  for (var i = 0, el; i < len; i++) {\n    el = els[i]\n    // return false -> current item was removed by fn during the loop\n    if (el != null && fn(el, i) === false) i--\n  }\n  return els\n}\n\n/**\n * Detect if the argument passed is a function\n * @param   { * } v - whatever you want to pass to this function\n * @returns { Boolean } -\n */\nfunction isFunction(v) {\n  return typeof v === T_FUNCTION || false   // avoid IE problems\n}\n\n/**\n * Get the outer html of any DOM node SVGs included\n * @param   { Object } el - DOM node to parse\n * @returns { String } el.outerHTML\n */\nfunction getOuterHTML(el) {\n  if (el.outerHTML) return el.outerHTML\n  // some browsers do not support outerHTML on the SVGs tags\n  else {\n    var container = mkEl('div')\n    container.appendChild(el.cloneNode(true))\n    return container.innerHTML\n  }\n}\n\n/**\n * Set the inner html of any DOM node SVGs included\n * @param { Object } container - DOM node where we will inject the new html\n * @param { String } html - html to inject\n */\nfunction setInnerHTML(container, html) {\n  if (typeof container.innerHTML != T_UNDEF) container.innerHTML = html\n  // some browsers do not support innerHTML on the SVGs tags\n  else {\n    var doc = new DOMParser().parseFromString(html, 'application/xml')\n    container.appendChild(\n      container.ownerDocument.importNode(doc.documentElement, true)\n    )\n  }\n}\n\n/**\n * Checks wether a DOM node must be considered part of an svg document\n * @param   { String }  name - tag name\n * @returns { Boolean } -\n */\nfunction isSVGTag(name) {\n  return ~SVG_TAGS_LIST.indexOf(name)\n}\n\n/**\n * Detect if the argument passed is an object, exclude null.\n * NOTE: Use isObject(x) && !isArray(x) to excludes arrays.\n * @param   { * } v - whatever you want to pass to this function\n * @returns { Boolean } -\n */\nfunction isObject(v) {\n  return v && typeof v === T_OBJECT         // typeof null is 'object'\n}\n\n/**\n * Remove any DOM attribute from a node\n * @param   { Object } dom - DOM node we want to update\n * @param   { String } name - name of the property we want to remove\n */\nfunction remAttr(dom, name) {\n  dom.removeAttribute(name)\n}\n\n/**\n * Convert a string containing dashes to camel case\n * @param   { String } string - input string\n * @returns { String } my-string -> myString\n */\nfunction toCamel(string) {\n  return string.replace(/-(\\w)/g, function(_, c) {\n    return c.toUpperCase()\n  })\n}\n\n/**\n * Get the value of any DOM attribute on a node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { String } name - name of the attribute we want to get\n * @returns { String | undefined } name of the node attribute whether it exists\n */\nfunction getAttr(dom, name) {\n  return dom.getAttribute(name)\n}\n\n/**\n * Set any DOM attribute\n * @param { Object } dom - DOM node we want to update\n * @param { String } name - name of the property we want to set\n * @param { String } val - value of the property we want to set\n */\nfunction setAttr(dom, name, val) {\n  dom.setAttribute(name, val)\n}\n\n/**\n * Detect the tag implementation by a DOM node\n * @param   { Object } dom - DOM node we need to parse to get its tag implementation\n * @returns { Object } it returns an object containing the implementation of a custom tag (template and boot function)\n */\nfunction getTag(dom) {\n  return dom.tagName && __tagImpl[getAttr(dom, RIOT_TAG_IS) ||\n    getAttr(dom, RIOT_TAG) || dom.tagName.toLowerCase()]\n}\n/**\n * Add a child tag to its parent into the `tags` object\n * @param   { Object } tag - child tag instance\n * @param   { String } tagName - key where the new tag will be stored\n * @param   { Object } parent - tag instance where the new child tag will be included\n */\nfunction addChildTag(tag, tagName, parent) {\n  var cachedTag = parent.tags[tagName]\n\n  // if there are multiple children tags having the same name\n  if (cachedTag) {\n    // if the parent tags property is not yet an array\n    // create it adding the first cached tag\n    if (!isArray(cachedTag))\n      // don't add the same tag twice\n      if (cachedTag !== tag)\n        parent.tags[tagName] = [cachedTag]\n    // add the new nested tag to the array\n    if (!contains(parent.tags[tagName], tag))\n      parent.tags[tagName].push(tag)\n  } else {\n    parent.tags[tagName] = tag\n  }\n}\n\n/**\n * Move the position of a custom tag in its parent tag\n * @param   { Object } tag - child tag instance\n * @param   { String } tagName - key where the tag was stored\n * @param   { Number } newPos - index where the new tag will be stored\n */\nfunction moveChildTag(tag, tagName, newPos) {\n  var parent = tag.parent,\n    tags\n  // no parent no move\n  if (!parent) return\n\n  tags = parent.tags[tagName]\n\n  if (isArray(tags))\n    tags.splice(newPos, 0, tags.splice(tags.indexOf(tag), 1)[0])\n  else addChildTag(tag, tagName, parent)\n}\n\n/**\n * Create a new child tag including it correctly into its parent\n * @param   { Object } child - child tag implementation\n * @param   { Object } opts - tag options containing the DOM node where the tag will be mounted\n * @param   { String } innerHTML - inner html of the child node\n * @param   { Object } parent - instance of the parent tag including the child custom tag\n * @returns { Object } instance of the new child tag just created\n */\nfunction initChildTag(child, opts, innerHTML, parent) {\n  var tag = new Tag(child, opts, innerHTML),\n    tagName = getTagName(opts.root),\n    ptag = getImmediateCustomParentTag(parent)\n  // fix for the parent attribute in the looped elements\n  tag.parent = ptag\n  // store the real parent tag\n  // in some cases this could be different from the custom parent tag\n  // for example in nested loops\n  tag._parent = parent\n\n  // add this tag to the custom parent tag\n  addChildTag(tag, tagName, ptag)\n  // and also to the real parent tag\n  if (ptag !== parent)\n    addChildTag(tag, tagName, parent)\n  // empty the child node once we got its template\n  // to avoid that its children get compiled multiple times\n  opts.root.innerHTML = ''\n\n  return tag\n}\n\n/**\n * Loop backward all the parents tree to detect the first custom parent tag\n * @param   { Object } tag - a Tag instance\n * @returns { Object } the instance of the first custom parent tag found\n */\nfunction getImmediateCustomParentTag(tag) {\n  var ptag = tag\n  while (!getTag(ptag.root)) {\n    if (!ptag.parent) break\n    ptag = ptag.parent\n  }\n  return ptag\n}\n\n/**\n * Helper function to set an immutable property\n * @param   { Object } el - object where the new property will be set\n * @param   { String } key - object key where the new property will be stored\n * @param   { * } value - value of the new property\n* @param   { Object } options - set the propery overriding the default options\n * @returns { Object } - the initial object\n */\nfunction defineProperty(el, key, value, options) {\n  Object.defineProperty(el, key, extend({\n    value: value,\n    enumerable: false,\n    writable: false,\n    configurable: true\n  }, options))\n  return el\n}\n\n/**\n * Get the tag name of any DOM node\n * @param   { Object } dom - DOM node we want to parse\n * @returns { String } name to identify this dom node in riot\n */\nfunction getTagName(dom) {\n  var child = getTag(dom),\n    namedTag = getAttr(dom, 'name'),\n    tagName = namedTag && !tmpl.hasExpr(namedTag) ?\n                namedTag :\n              child ? child.name : dom.tagName.toLowerCase()\n\n  return tagName\n}\n\n/**\n * Extend any object with other properties\n * @param   { Object } src - source object\n * @returns { Object } the resulting extended object\n *\n * var obj = { foo: 'baz' }\n * extend(obj, {bar: 'bar', foo: 'bar'})\n * console.log(obj) => {bar: 'bar', foo: 'bar'}\n *\n */\nfunction extend(src) {\n  var obj, args = arguments\n  for (var i = 1; i < args.length; ++i) {\n    if (obj = args[i]) {\n      for (var key in obj) {\n        // check if this property of the source object could be overridden\n        if (isWritable(src, key))\n          src[key] = obj[key]\n      }\n    }\n  }\n  return src\n}\n\n/**\n * Check whether an array contains an item\n * @param   { Array } arr - target array\n * @param   { * } item - item to test\n * @returns { Boolean } Does 'arr' contain 'item'?\n */\nfunction contains(arr, item) {\n  return ~arr.indexOf(item)\n}\n\n/**\n * Check whether an object is a kind of array\n * @param   { * } a - anything\n * @returns {Boolean} is 'a' an array?\n */\nfunction isArray(a) { return Array.isArray(a) || a instanceof Array }\n\n/**\n * Detect whether a property of an object could be overridden\n * @param   { Object }  obj - source object\n * @param   { String }  key - object property\n * @returns { Boolean } is this property writable?\n */\nfunction isWritable(obj, key) {\n  var props = Object.getOwnPropertyDescriptor(obj, key)\n  return typeof obj[key] === T_UNDEF || props && props.writable\n}\n\n\n/**\n * With this function we avoid that the internal Tag methods get overridden\n * @param   { Object } data - options we want to use to extend the tag instance\n * @returns { Object } clean object without containing the riot internal reserved words\n */\nfunction cleanUpData(data) {\n  if (!(data instanceof Tag) && !(data && typeof data.trigger == T_FUNCTION))\n    return data\n\n  var o = {}\n  for (var key in data) {\n    if (!RESERVED_WORDS_BLACKLIST.test(key)) o[key] = data[key]\n  }\n  return o\n}\n\n/**\n * Walk down recursively all the children tags starting dom node\n * @param   { Object }   dom - starting node where we will start the recursion\n * @param   { Function } fn - callback to transform the child node just found\n */\nfunction walk(dom, fn) {\n  if (dom) {\n    // stop the recursion\n    if (fn(dom) === false) return\n    else {\n      dom = dom.firstChild\n\n      while (dom) {\n        walk(dom, fn)\n        dom = dom.nextSibling\n      }\n    }\n  }\n}\n\n/**\n * Minimize risk: only zero or one _space_ between attr & value\n * @param   { String }   html - html string we want to parse\n * @param   { Function } fn - callback function to apply on any attribute found\n */\nfunction walkAttributes(html, fn) {\n  var m,\n    re = /([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g\n\n  while (m = re.exec(html)) {\n    fn(m[1].toLowerCase(), m[2] || m[3] || m[4])\n  }\n}\n\n/**\n * Check whether a DOM node is in stub mode, useful for the riot 'if' directive\n * @param   { Object }  dom - DOM node we want to parse\n * @returns { Boolean } -\n */\nfunction isInStub(dom) {\n  while (dom) {\n    if (dom.inStub) return true\n    dom = dom.parentNode\n  }\n  return false\n}\n\n/**\n * Create a generic DOM node\n * @param   { String } name - name of the DOM node we want to create\n * @param   { Boolean } isSvg - should we use a SVG as parent node?\n * @returns { Object } DOM node just created\n */\nfunction mkEl(name, isSvg) {\n  return isSvg ?\n    document.createElementNS('http://www.w3.org/2000/svg', 'svg') :\n    document.createElement(name)\n}\n\n/**\n * Shorter and fast way to select multiple nodes in the DOM\n * @param   { String } selector - DOM selector\n * @param   { Object } ctx - DOM node where the targets of our search will is located\n * @returns { Object } dom nodes found\n */\nfunction $$(selector, ctx) {\n  return (ctx || document).querySelectorAll(selector)\n}\n\n/**\n * Shorter and fast way to select a single node in the DOM\n * @param   { String } selector - unique dom selector\n * @param   { Object } ctx - DOM node where the target of our search will is located\n * @returns { Object } dom node found\n */\nfunction $(selector, ctx) {\n  return (ctx || document).querySelector(selector)\n}\n\n/**\n * Simple object prototypal inheritance\n * @param   { Object } parent - parent object\n * @returns { Object } child instance\n */\nfunction inherit(parent) {\n  function Child() {}\n  Child.prototype = parent\n  return new Child()\n}\n\n/**\n * Get the name property needed to identify a DOM node in riot\n * @param   { Object } dom - DOM node we need to parse\n * @returns { String | undefined } give us back a string to identify this dom node\n */\nfunction getNamedKey(dom) {\n  return getAttr(dom, 'id') || getAttr(dom, 'name')\n}\n\n/**\n * Set the named properties of a tag element\n * @param { Object } dom - DOM node we need to parse\n * @param { Object } parent - tag instance where the named dom element will be eventually added\n * @param { Array } keys - list of all the tag instance properties\n */\nfunction setNamed(dom, parent, keys) {\n  // get the key value we want to add to the tag instance\n  var key = getNamedKey(dom),\n    isArr,\n    // add the node detected to a tag instance using the named property\n    add = function(value) {\n      // avoid to override the tag properties already set\n      if (contains(keys, key)) return\n      // check whether this value is an array\n      isArr = isArray(value)\n      // if the key was never set\n      if (!value)\n        // set it once on the tag instance\n        parent[key] = dom\n      // if it was an array and not yet set\n      else if (!isArr || isArr && !contains(value, dom)) {\n        // add the dom node into the array\n        if (isArr)\n          value.push(dom)\n        else\n          parent[key] = [value, dom]\n      }\n    }\n\n  // skip the elements with no named properties\n  if (!key) return\n\n  // check whether this key has been already evaluated\n  if (tmpl.hasExpr(key))\n    // wait the first updated event only once\n    parent.one('mount', function() {\n      key = getNamedKey(dom)\n      add(parent[key])\n    })\n  else\n    add(parent[key])\n\n}\n\n/**\n * Faster String startsWith alternative\n * @param   { String } src - source string\n * @param   { String } str - test string\n * @returns { Boolean } -\n */\nfunction startsWith(src, str) {\n  return src.slice(0, str.length) === str\n}\n\n/**\n * requestAnimationFrame function\n * Adapted from https://gist.github.com/paulirish/1579671, license MIT\n */\nvar rAF = (function (w) {\n  var raf = w.requestAnimationFrame    ||\n            w.mozRequestAnimationFrame || w.webkitRequestAnimationFrame\n\n  if (!raf || /iP(ad|hone|od).*OS 6/.test(w.navigator.userAgent)) {  // buggy iOS6\n    var lastTime = 0\n\n    raf = function (cb) {\n      var nowtime = Date.now(), timeout = Math.max(16 - (nowtime - lastTime), 0)\n      setTimeout(function () { cb(lastTime = nowtime + timeout) }, timeout)\n    }\n  }\n  return raf\n\n})(window || {})\n\n/**\n * Mount a tag creating new Tag instance\n * @param   { Object } root - dom node where the tag will be mounted\n * @param   { String } tagName - name of the riot tag we want to mount\n * @param   { Object } opts - options to pass to the Tag instance\n * @returns { Tag } a new Tag instance\n */\nfunction mountTo(root, tagName, opts) {\n  var tag = __tagImpl[tagName],\n    // cache the inner HTML to fix #855\n    innerHTML = root._innerHTML = root._innerHTML || root.innerHTML\n\n  // clear the inner html\n  root.innerHTML = ''\n\n  if (tag && root) tag = new Tag(tag, { root: root, opts: opts }, innerHTML)\n\n  if (tag && tag.mount) {\n    tag.mount()\n    // add this tag to the virtualDom variable\n    if (!contains(__virtualDom, tag)) __virtualDom.push(tag)\n  }\n\n  return tag\n}\n/**\n * Riot public api\n */\n\n// share methods for other riot parts, e.g. compiler\nriot.util = { brackets: brackets, tmpl: tmpl }\n\n/**\n * Create a mixin that could be globally shared across all the tags\n */\nriot.mixin = (function() {\n  var mixins = {},\n    globals = mixins[GLOBAL_MIXIN] = {},\n    _id = 0\n\n  /**\n   * Create/Return a mixin by its name\n   * @param   { String }  name - mixin name (global mixin if object)\n   * @param   { Object }  mixin - mixin logic\n   * @param   { Boolean } g - is global?\n   * @returns { Object }  the mixin logic\n   */\n  return function(name, mixin, g) {\n    // Unnamed global\n    if (isObject(name)) {\n      riot.mixin('__unnamed_'+_id++, name, true)\n      return\n    }\n\n    var store = g ? globals : mixins\n\n    // Getter\n    if (!mixin) {\n      if (typeof store[name] === T_UNDEF) {\n        throw new Error('Unregistered mixin: ' + name)\n      }\n      return store[name]\n    }\n    // Setter\n    if (isFunction(mixin)) {\n      extend(mixin.prototype, store[name] || {})\n      store[name] = mixin\n    }\n    else {\n      store[name] = extend(store[name] || {}, mixin)\n    }\n  }\n\n})()\n\n/**\n * Create a new riot tag implementation\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   html - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nriot.tag = function(name, html, css, attrs, fn) {\n  if (isFunction(attrs)) {\n    fn = attrs\n    if (/^[\\w\\-]+\\s?=/.test(css)) {\n      attrs = css\n      css = ''\n    } else attrs = ''\n  }\n  if (css) {\n    if (isFunction(css)) fn = css\n    else styleManager.add(css)\n  }\n  name = name.toLowerCase()\n  __tagImpl[name] = { name: name, tmpl: html, attrs: attrs, fn: fn }\n  return name\n}\n\n/**\n * Create a new riot tag implementation (for use by the compiler)\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   html - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nriot.tag2 = function(name, html, css, attrs, fn) {\n  if (css) styleManager.add(css)\n  //if (bpair) riot.settings.brackets = bpair\n  __tagImpl[name] = { name: name, tmpl: html, attrs: attrs, fn: fn }\n  return name\n}\n\n/**\n * Mount a tag using a specific tag implementation\n * @param   { String } selector - tag DOM selector\n * @param   { String } tagName - tag implementation name\n * @param   { Object } opts - tag logic\n * @returns { Array } new tags instances\n */\nriot.mount = function(selector, tagName, opts) {\n\n  var els,\n    allTags,\n    tags = []\n\n  // helper functions\n\n  function addRiotTags(arr) {\n    var list = ''\n    each(arr, function (e) {\n      if (!/[^-\\w]/.test(e)) {\n        e = e.trim().toLowerCase()\n        list += ',[' + RIOT_TAG_IS + '=\"' + e + '\"],[' + RIOT_TAG + '=\"' + e + '\"]'\n      }\n    })\n    return list\n  }\n\n  function selectAllTags() {\n    var keys = Object.keys(__tagImpl)\n    return keys + addRiotTags(keys)\n  }\n\n  function pushTags(root) {\n    if (root.tagName) {\n      var riotTag = getAttr(root, RIOT_TAG_IS) || getAttr(root, RIOT_TAG)\n\n      // have tagName? force riot-tag to be the same\n      if (tagName && riotTag !== tagName) {\n        riotTag = tagName\n        setAttr(root, RIOT_TAG_IS, tagName)\n        setAttr(root, RIOT_TAG, tagName) // this will be removed in riot 3.0.0\n      }\n      var tag = mountTo(root, riotTag || root.tagName.toLowerCase(), opts)\n\n      if (tag) tags.push(tag)\n    } else if (root.length) {\n      each(root, pushTags)   // assume nodeList\n    }\n  }\n\n  // ----- mount code -----\n\n  // inject styles into DOM\n  styleManager.inject()\n\n  if (isObject(tagName)) {\n    opts = tagName\n    tagName = 0\n  }\n\n  // crawl the DOM to find the tag\n  if (typeof selector === T_STRING) {\n    if (selector === '*')\n      // select all the tags registered\n      // and also the tags found with the riot-tag attribute set\n      selector = allTags = selectAllTags()\n    else\n      // or just the ones named like the selector\n      selector += addRiotTags(selector.split(/, */))\n\n    // make sure to pass always a selector\n    // to the querySelectorAll function\n    els = selector ? $$(selector) : []\n  }\n  else\n    // probably you have passed already a tag or a NodeList\n    els = selector\n\n  // select all the registered and mount them inside their root elements\n  if (tagName === '*') {\n    // get all custom tags\n    tagName = allTags || selectAllTags()\n    // if the root els it's just a single tag\n    if (els.tagName)\n      els = $$(tagName, els)\n    else {\n      // select all the children for all the different root elements\n      var nodeList = []\n      each(els, function (_el) {\n        nodeList.push($$(tagName, _el))\n      })\n      els = nodeList\n    }\n    // get rid of the tagName\n    tagName = 0\n  }\n\n  pushTags(els)\n\n  return tags\n}\n\n/**\n * Update all the tags instances created\n * @returns { Array } all the tags instances\n */\nriot.update = function() {\n  return each(__virtualDom, function(tag) {\n    tag.update()\n  })\n}\n\n/**\n * Export the Virtual DOM\n */\nriot.vdom = __virtualDom\n\n/**\n * Export the Tag constructor\n */\nriot.Tag = Tag\n  // support CommonJS, AMD & browser\n  /* istanbul ignore next */\n  if (typeof exports === T_OBJECT)\n    module.exports = riot\n  else if (typeof define === T_FUNCTION && typeof define.amd !== T_UNDEF)\n    define(function() { return riot })\n  else\n    window.riot = riot\n\n})(typeof window != 'undefined' ? window : void 0);\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/riot/riot.js\n **/","module.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/amd-define.js\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = __webpack_amd_options__;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/amd-options.js\n ** module id = 3\n ** module chunks = 0\n **/","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport reducer from './reducers/index'\n\nexport default function configureStore(initialState) {\n  const createStoreWithMiddleware = compose(\n    applyMiddleware(thunk),\n    window.devToolsExtension ? window.devToolsExtension() : f => f\n  )(createStore)\n  const store = createStoreWithMiddleware(reducer, initialState);\n\n  return store;\n\n    // riot.observable(this);\n\n    // this.on('add', => {\n    //\n    // });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/store.js\n **/","'use strict';\n\nexports.__esModule = true;\nexports.compose = exports.applyMiddleware = exports.bindActionCreators = exports.combineReducers = exports.createStore = undefined;\n\nvar _createStore = require('./createStore');\n\nvar _createStore2 = _interopRequireDefault(_createStore);\n\nvar _combineReducers = require('./combineReducers');\n\nvar _combineReducers2 = _interopRequireDefault(_combineReducers);\n\nvar _bindActionCreators = require('./bindActionCreators');\n\nvar _bindActionCreators2 = _interopRequireDefault(_bindActionCreators);\n\nvar _applyMiddleware = require('./applyMiddleware');\n\nvar _applyMiddleware2 = _interopRequireDefault(_applyMiddleware);\n\nvar _compose = require('./compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nvar _warning = require('./utils/warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/*\n* This is a dummy function to check if the function name has been altered by minification.\n* If the function has been minified and NODE_ENV !== 'production', warn the user.\n*/\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  (0, _warning2[\"default\"])('You are currently using minified code outside of NODE_ENV === \\'production\\'. ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexports.createStore = _createStore2[\"default\"];\nexports.combineReducers = _combineReducers2[\"default\"];\nexports.bindActionCreators = _bindActionCreators2[\"default\"];\nexports.applyMiddleware = _applyMiddleware2[\"default\"];\nexports.compose = _compose2[\"default\"];\n\n\n/** WEBPACK FOOTER **\n ** ./~/redux/lib/index.js\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/process/browser.js\n **/","'use strict';\n\nexports.__esModule = true;\nexports.ActionTypes = undefined;\nexports[\"default\"] = createStore;\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nvar _symbolObservable = require('symbol-observable');\n\nvar _symbolObservable2 = _interopRequireDefault(_symbolObservable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar ActionTypes = exports.ActionTypes = {\n  INIT: '@@redux/INIT'\n};\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [initialState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} enhancer The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\nfunction createStore(reducer, initialState, enhancer) {\n  var _ref2;\n\n  if (typeof initialState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = initialState;\n    initialState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, initialState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = initialState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n  function getState() {\n    return currentState;\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected listener to be a function.');\n    }\n\n    var isSubscribed = true;\n\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      isSubscribed = false;\n\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action) {\n    if (!(0, _isPlainObject2[\"default\"])(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i]();\n    }\n\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({ type: ActionTypes.INIT });\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/zenparsing/es-observable\n   */\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object') {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return { unsubscribe: unsubscribe };\n      }\n    }, _ref[_symbolObservable2[\"default\"]] = function () {\n      return this;\n    }, _ref;\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch({ type: ActionTypes.INIT });\n\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[_symbolObservable2[\"default\"]] = observable, _ref2;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/redux/lib/createStore.js\n **/","var getPrototype = require('./_getPrototype'),\n    isHostObject = require('./_isHostObject'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object,\n *  else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) ||\n      objectToString.call(value) != objectTag || isHostObject(value)) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nmodule.exports = isPlainObject;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/lodash/isPlainObject.js\n **/","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetPrototype = Object.getPrototypeOf;\n\n/**\n * Gets the `[[Prototype]]` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {null|Object} Returns the `[[Prototype]]`.\n */\nfunction getPrototype(value) {\n  return nativeGetPrototype(Object(value));\n}\n\nmodule.exports = getPrototype;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/lodash/_getPrototype.js\n **/","/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\nmodule.exports = isHostObject;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/lodash/_isHostObject.js\n **/","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/lodash/isObjectLike.js\n **/","/* global window */\n'use strict';\n\nmodule.exports = require('./ponyfill')(global || window || this);\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/symbol-observable/index.js\n **/","'use strict';\n\nmodule.exports = function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/symbol-observable/ponyfill.js\n **/","'use strict';\n\nexports.__esModule = true;\nexports[\"default\"] = combineReducers;\n\nvar _createStore = require('./createStore');\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nvar _warning = require('./utils/warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionName = actionType && '\"' + actionType.toString() + '\"' || 'an action';\n\n  return 'Given action ' + actionName + ', reducer \"' + key + '\" returned undefined. ' + 'To ignore an action, you must explicitly return the previous state.';\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === _createStore.ActionTypes.INIT ? 'initialState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!(0, _isPlainObject2[\"default\"])(inputState)) {\n    return 'The ' + argumentName + ' has unexpected type of \"' + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + '\". Expected argument to be an object with the following ' + ('keys: \"' + reducerKeys.join('\", \"') + '\"');\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key);\n  });\n\n  if (unexpectedKeys.length > 0) {\n    return 'Unexpected ' + (unexpectedKeys.length > 1 ? 'keys' : 'key') + ' ' + ('\"' + unexpectedKeys.join('\", \"') + '\" found in ' + argumentName + '. ') + 'Expected to find one of the known reducer keys instead: ' + ('\"' + reducerKeys.join('\", \"') + '\". Unexpected keys will be ignored.');\n  }\n}\n\nfunction assertReducerSanity(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, { type: _createStore.ActionTypes.INIT });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined during initialization. ' + 'If the state passed to the reducer is undefined, you must ' + 'explicitly return the initial state. The initial state may ' + 'not be undefined.');\n    }\n\n    var type = '@@redux/PROBE_UNKNOWN_ACTION_' + Math.random().toString(36).substring(7).split('').join('.');\n    if (typeof reducer(undefined, { type: type }) === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined when probed with a random type. ' + ('Don\\'t try to handle ' + _createStore.ActionTypes.INIT + ' or other actions in \"redux/*\" ') + 'namespace. They are considered private. Instead, you must return the ' + 'current state for any unknown actions, unless it is undefined, ' + 'in which case you must return the initial state, regardless of the ' + 'action type. The initial state may not be undefined.');\n    }\n  });\n}\n\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n  var finalReducerKeys = Object.keys(finalReducers);\n\n  var sanityError;\n  try {\n    assertReducerSanity(finalReducers);\n  } catch (e) {\n    sanityError = e;\n  }\n\n  return function combination() {\n    var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var action = arguments[1];\n\n    if (sanityError) {\n      throw sanityError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action);\n      if (warningMessage) {\n        (0, _warning2[\"default\"])(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n    for (var i = 0; i < finalReducerKeys.length; i++) {\n      var key = finalReducerKeys[i];\n      var reducer = finalReducers[key];\n      var previousStateForKey = state[key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(key, action);\n        throw new Error(errorMessage);\n      }\n      nextState[key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n    return hasChanged ? nextState : state;\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/redux/lib/combineReducers.js\n **/","'use strict';\n\nexports.__esModule = true;\nexports[\"default\"] = warning;\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n    /* eslint-disable no-empty */\n  } catch (e) {}\n  /* eslint-enable no-empty */\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/redux/lib/utils/warning.js\n **/","'use strict';\n\nexports.__esModule = true;\nexports[\"default\"] = bindActionCreators;\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(undefined, arguments));\n  };\n}\n\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass a single function as the first argument,\n * and get a function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error('bindActionCreators expected an object or a function, instead received ' + (actionCreators === null ? 'null' : typeof actionCreators) + '. ' + 'Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');\n  }\n\n  var keys = Object.keys(actionCreators);\n  var boundActionCreators = {};\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var actionCreator = actionCreators[key];\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n  return boundActionCreators;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/redux/lib/bindActionCreators.js\n **/","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports[\"default\"] = applyMiddleware;\n\nvar _compose = require('./compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function (reducer, initialState, enhancer) {\n      var store = createStore(reducer, initialState, enhancer);\n      var _dispatch = store.dispatch;\n      var chain = [];\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch(action) {\n          return _dispatch(action);\n        }\n      };\n      chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = _compose2[\"default\"].apply(undefined, chain)(store.dispatch);\n\n      return _extends({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/redux/lib/applyMiddleware.js\n **/","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = compose;\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  } else {\n    var _ret = function () {\n      var last = funcs[funcs.length - 1];\n      var rest = funcs.slice(0, -1);\n      return {\n        v: function v() {\n          return rest.reduceRight(function (composed, f) {\n            return f(composed);\n          }, last.apply(undefined, arguments));\n        }\n      };\n    }();\n\n    if (typeof _ret === \"object\") return _ret.v;\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/redux/lib/compose.js\n **/","'use strict';\n\nexports.__esModule = true;\nfunction createThunkMiddleware(extraArgument) {\n  return function (_ref) {\n    var dispatch = _ref.dispatch;\n    var getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        if (typeof action === 'function') {\n          return action(dispatch, getState, extraArgument);\n        }\n\n        return next(action);\n      };\n    };\n  };\n}\n\nvar thunk = createThunkMiddleware();\nthunk.withExtraArgument = createThunkMiddleware;\n\nexports['default'] = thunk;\n\n\n/** WEBPACK FOOTER **\n ** ./~/redux-thunk/lib/index.js\n **/","import { combineReducers } from 'redux';\nimport counter from './counter';\nimport todos from './todos';\nimport visibility from './visibility';\n\nexport default combineReducers({\n  counter,\n  todos,\n  visibility\n})\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/index.js\n **/","export default function counter(state = 0, action) {\n  switch (action.type) {\n    case 'INCREMENT':\n      return state + 1;\n    case 'DECREMENT':\n      return state - 1;\n    default:\n      return state;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/counter.js\n **/","import todo from './todo';\n\nexport default function todos(state = [], action) {\n  switch(action.type) {\n    case 'ADD_TODO':\n      return [\n      state,\n      todo(undefined, action)\n    ];\n  case 'TOGGLE_TODO':\n    return state.map(t => todo(t, action));\n  default:\n    return state;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/todos.js\n **/","export default function todo(state, action) {\n  switch(action.type) {\n    case 'ADD_TODO':\n      return {\n      id: action.id,\n      text: action.text,\n      completed: false\n    };\n  case 'TOGGLE_TODO':\n    if (state.id !== action.id) {\n    return state;\n  }\n\n  return {\n    state,\n    completed: !state.completed\n  };\ndefault:\n  return state;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/todo.js\n **/","export default function visibility(state = 'SHOW_ALL', action) {\n  switch(action.type) {\n    case 'SET_VISIBILITY_FILTER':\n      return action.filter\n    default:\n      return state;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/visibility.js\n **/","import './components/todo-app.tag';\nimport './components/todo-item.tag';\nimport './components/todo-list.tag';\nimport './components/todo-form.tag';\n\n\n/** WEBPACK FOOTER **\n ** ./src/component.js\n **/","riot.tag2('todo-app', '<h3>Todos</h3> <todo-list store=\"{opts.store}\"></todo-list> <todo-form store=\"{opts.store}\"></todo-form>', '', '', function(opts) {\n    opts.store.subscribe(this.update)\n    console.log(opts.store.getState().todos)\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/todo-app.tag\n **/","riot.tag2('todo-item', '<span class=\"{done: done}\" onclick=\"{toggle}\"> {title} </span>', 'todo-item,[riot-tag=\"todo-item\"],[data-is=\"todo-item\"]{ cursor: pointer; } todo-item .done,[riot-tag=\"todo-item\"] .done,[data-is=\"todo-item\"] .done{ text-decoration: line-through; }', '', function(opts) {\n    this.title = this.opts.title;\n    this.done = this.opts.done;\n\n    this.toggle = () => {\n      this.done = !this.done;\n    };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/todo-item.tag\n **/","riot.tag2('todo-list', '<ul> <li each=\"{todo in opts.store.getState().todos}\"> <todo-item title=\"{todo.text}\"></todo-item> </li> <li> <todo-item title=\"hoge\"></todo-item> </li> </ul>', '', '', function(opts) {\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/todo-list.tag\n **/","riot.tag2('todo-form', '<form onsubmit=\"{add}\"> <input name=\"input\" type=\"text\" placeholder=\"New Todo\" autofocus=\"true\"> <input type=\"submit\" value=\"Add Todo\"> </form> <button onclick=\"{clear}\">Clear Completed</button>', '', '', function(opts) {\n    this.add = (e) => {\n      if (this.input.value) {\n        opts.store.dispatch({\n          type: 'ADD_TODO',\n          text: this.todo.value,\n          id: this.nextTodoId++\n        });\n        this.input.value = '';\n      }\n    };\n\n    this.clear = () => {\n      this.input.value = '';\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/todo-form.tag\n **/"],"sourceRoot":""}